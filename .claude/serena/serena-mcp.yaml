name: SerenaMCP Integration
version: 3.0.0
enabled: true
autoConnect: true

protocol:
  type: advanced
  version: 2.1
  features:
    - bidirectional-streaming
    - compression
    - encryption
    - multiplexing
    - error-recovery

endpoints:
  primary:
    host: localhost
    port: 8765
    protocol: wss
    authentication:
      type: token
      autoRefresh: true
    
  fallback:
    - host: 127.0.0.1
      port: 8766
      protocol: ws
    - host: unix
      socket: /tmp/serena.sock

channels:
  control:
    priority: highest
    qos: guaranteed
    encryption: aes-256-gcm
    
  data:
    priority: high
    qos: at-least-once
    compression: zstd
    chunking: true
    maxChunkSize: 65536
    
  events:
    priority: normal
    qos: at-most-once
    batching: true
    batchSize: 100
    batchTimeout: 1000

streaming:
  enabled: true
  backpressure: true
  bufferSize: 10485760
  watermarks:
    high: 0.8
    low: 0.2

compression:
  enabled: true
  algorithms:
    - zstd
    - lz4
    - gzip
  selection: auto
  threshold: 1024

serialization:
  format: json
  fallback: msgpack
  schema:
    validation: true
    evolution: true

capabilities:
  - file-operations
  - code-execution
  - database-access
  - network-requests
  - system-monitoring
  - ai-inference
  - distributed-computing
  - realtime-collaboration

middleware:
  - name: rate-limiter
    config:
      requests: 1000
      window: 60000
      
  - name: circuit-breaker
    config:
      threshold: 5
      timeout: 30000
      
  - name: request-logger
    config:
      level: info
      format: json
      
  - name: metrics-collector
    config:
      interval: 5000
      export: prometheus

integrations:
  subagent:
    enabled: true
    sharedPool: true
    maxConnections: 20
    
  claudeFlow:
    enabled: true
    eventSync: true
    stateSharing: true
    
  context7:
    enabled: true
    contextSync: true
    layerAccess: [1, 2, 3]

security:
  tls:
    enabled: true
    version: "1.3"
    ciphers:
      - TLS_AES_256_GCM_SHA384
      - TLS_CHACHA20_POLY1305_SHA256
    
  authentication:
    methods:
      - token
      - certificate
      - oauth2
    
  authorization:
    enabled: true
    rbac: true
    policies: .claude/serena/policies.json

performance:
  connectionPool:
    min: 5
    max: 100
    keepAlive: true
    keepAliveInterval: 30000
    
  caching:
    enabled: true
    ttl: 3600000
    maxSize: 1073741824
    
  threading:
    workers: 8
    eventLoop: epoll
    affinity: true