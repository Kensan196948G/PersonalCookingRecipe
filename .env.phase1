# Phase 1: 緊急安定化 環境変数設定
# PostgreSQL + Redis 統合対応

# =============================================================================
# 🔐 セキュリティ設定
# =============================================================================
JWT_SECRET=phase1_emergency_jwt_secret_key_32chars_minimum
BCRYPT_ROUNDS=12

# =============================================================================
# 🗄️ PostgreSQL データベース設定
# =============================================================================
DB_TYPE=postgresql
DB_HOST=postgres
DB_PORT=5432
DB_NAME=recipe_db
DB_USER=recipe_user
DB_PASSWORD=recipe_secure_password_2024

# 接続プール最適化 (20-50接続)
DB_CONNECTION_POOL_MIN=5
DB_CONNECTION_POOL_MAX=50
DB_CONNECTION_TIMEOUT=30000

# =============================================================================
# 🚀 Redis キャッシング設定
# =============================================================================
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_password_2024

# JWT キャッシング高速化
JWT_CACHE_ENABLED=true
JWT_CACHE_TTL=3600

# API キャッシング
CACHE_ENABLED=true
CACHE_TTL=1800

# =============================================================================
# ⚙️ アプリケーション設定
# =============================================================================
NODE_ENV=development
APP_NAME="PersonalCookingRecipe-Phase1"
APP_VERSION=1.1.0

# ポート設定
FRONTEND_PORT=3000
BACKEND_PORT=5000
API_PORT=8000

# =============================================================================
# 📁 ファイル・パフォーマンス設定
# =============================================================================
UPLOAD_PATH=/app/uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp

# Node.js パフォーマンス
NODE_OPTIONS="--max-old-space-size=2048"
UV_THREAD_POOL_SIZE=4

# =============================================================================
# 📝 ログ・監視設定
# =============================================================================
LOG_LEVEL=info
LOG_DIRECTORY=/app/logs
LOG_MAX_SIZE=10M
LOG_MAX_FILES=5

# Prometheus監視
MONITORING_ENABLED=true
PROMETHEUS_RETENTION=30d

# =============================================================================
# 🛡️ CORS・セキュリティ設定
# =============================================================================
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_CREDENTIALS=true
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# =============================================================================
# 🧪 テスト環境設定
# =============================================================================
TEST_DB_NAME=recipe_test_db
TEST_DB_USER=test_user
TEST_DB_PASSWORD=test_password
TEST_REDIS_PASSWORD=test_redis_pass

# パフォーマンス目標値
AUTH_PERFORMANCE_TARGET=500
TEST_SUCCESS_RATE_TARGET=95
COVERAGE_TARGET=50